{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
  <div class="card mb-4">
    <img src="{{ product.image|default:'/static/images/placeholder.png' }}" class="card-img-top" alt="{{ product.name }}">
    <div class="card-body">
      <h2 class="card-title">{{ product.name }}</h2>
      <p class="card-text">{{ product.description }}</p>
      <p><strong>Категория:</strong> {{ product.category.name }}</p>
      <p><strong>Добавлен:</strong> {{ product.created_at|date:"d.m.Y H:i" }}</p>
      <p><strong>Цена:</strong> {{ product.price }} сом</p>

      <form method="post" action="{% url 'add_to_cart' product.id %}" class="mt-3">
        {% csrf_token %}
        <div class="input-group mb-3" style="max-width: 200px;">
          <input type="number" name="quantity" value="1" min="1" max="{{ product.stock }}" class="form-control">
          <button type="submit" class="btn btn-success">Добавить в корзину</button>
        </div>
      </form>

      <div class="mt-3">
        <a href="{% url 'product_edit' product.id %}" class="btn btn-warning me-2">Редактировать</a>
        <a href="{% url 'product_delete' product.id %}" class="btn btn-danger">Удалить</a>
      </div>
    </div>
  </div>
</div>
{% endblock %}
